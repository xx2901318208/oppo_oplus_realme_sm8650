--- a/drivers/baseband_guard/baseband_guard.c
+++ b/drivers/baseband_guard/baseband_guard.c
@@ -18,7 +18,9 @@
 #include <linux/cred.h>
 #include <linux/uaccess.h>
 #include <linux/proc_fs.h>
-#include <linux/genhd.h> // [修复] 包含 genhd.h 以便使用 bdev->bd_disk
+// [终极修复] 使用相对路径并确保 bdi_get_bdev 的声明被包含
+#include <linux/backing-dev.h>
+#include "../block/genhd.h"
 
 /* ================== 模块参数 (可运行时调整) ================== */
 
--- a/drivers/baseband_guard/Makefile
+++ b/drivers/baseband_guard/Makefile
@@ -1,2 +1,5 @@
 obj-$(CONFIG_BASEBAND_GUARD) += baseband_guard.o
+
+# [终极修复] 强制为该模块的编译添加核心头文件路径
+ccflags-y += -I$(srctree)/include -I$(srctree)/fs
